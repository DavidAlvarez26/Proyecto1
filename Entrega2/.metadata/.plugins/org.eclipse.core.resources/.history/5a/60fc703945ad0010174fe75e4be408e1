package tests;

import Usuarios.Administrador;
import Usuarios.Organizador;
import logica.BoletaMaster;
import logica.Evento;
import logica.Localidad;
import logica.Venue;
import persistencia.PersistenciaDatos;

import java.sql.Date;
import java.sql.Time;
import java.util.ArrayList;
import java.util.List;

public class TestAdminYOrganizador {
    public static void main(String[] args) {
        PersistenciaDatos persistencia = new PersistenciaDatos();
        BoletaMaster sistema = new BoletaMaster(null, null, null, null, null, persistencia);
        sistema.cargarDatos();

        Administrador admin = new Administrador("admin1", "1234", "Carlos Admin", "admin@mail.com", 0, 1000, null);
        Organizador org = (Organizador) sistema.buscarUsuario("organizador01");

        //proponer Venue
        Venue nuevoVenue = new Venue("Calle 100 #45-10", 1000, "V005", "Centro Cultural Uniandes", false);
        sistema.proponerVenue(org, nuevoVenue);

        //aprobar Venue
        sistema.aprobarVenue(admin, nuevoVenue, true);

        //crear Evento
        List<Localidad> locs = new ArrayList<>();
        Evento nuevoEvento = new Evento("E010", "Expo Tecnología", Date.valueOf("2025-12-10"),
                                        Time.valueOf("14:00:00"), "Exposición", nuevoVenue, org, locs, "Activo");
        sistema.crearEvento(org, nuevoEvento);

        //generar Reporte
        System.out.println("\n===== REPORTE FINANCIERO =====");
        System.out.println(sistema.generarReporteFinanciero(admin));
    }
}